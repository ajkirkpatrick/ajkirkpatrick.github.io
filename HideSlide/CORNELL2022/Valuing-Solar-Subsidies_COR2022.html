<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Valuing Solar Subsidies</title>
    <meta charset="utf-8" />
    <meta name="author" content="Bryan Bollinger (NYU), Ken Gillingham (Yale) Justin Kirkpatrick (Michigan State)  Slides at: .orange[bit.ly/SEERE22]" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css/ajk_css-NYU2022.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Valuing Solar Subsidies
]
.subtitle[
## Cornell SEERE Workshop - October 27, 2022
]
.author[
### Bryan Bollinger (NYU), Ken Gillingham (Yale)<br>Justin Kirkpatrick (Michigan State)<br><br>Slides at: .orange[bit.ly/SEERE22]
]
.date[
### <br><br><br><br><br>.font50[Last updated October 27, 2022]
]

---






layout: true


&lt;div class="msu-header"&gt;&lt;/div&gt; 


&lt;!-- --- --&gt;
&lt;!-- class: inverseMSU --&gt;
&lt;!-- # Context --&gt;

&lt;!-- ### Net metering incentive --&gt;

&lt;!-- - Solar self-generation offsets consumption within a month, regardless of when the kWh is produced. --&gt;


&lt;!-- -- --&gt;

&lt;!-- - Effect on bill --&gt;
&lt;!--   - Allows consumer to reduce amount paid to utility by the retail rate per kWh generated during month --&gt;
&lt;!--   - Under **block-tier pricing**, bill reduction starts at highest rate. --&gt;
&lt;!--   - If each kWh reduces bill by retail rate, but utility could acquire that kWh at wholesale rate, net metering is a **flow (monthly) subsidy** --&gt;
&lt;!--   - While not from government accounts, this **is** a transfer from non-solar to solar customers --&gt;



---
class: inverseMSU
# Context

### Focus on Net metering incentive

- During sunny periods, "spin the meter backwards"
  - Offsets consumption after sunset, lowering total amount billed.
  - Depending on "true-up period", can bank net-negative months
  - Utility acts like a *battery*, banking during day, offseting at night.
--

- Effect on bill
  - Under **increasing block-tier pricing**, net metering allows consumer to sell power to the utility at the retail rate the consumer faces
  - If each kWh reduces bill by higher tier rates that are above wholesale rates, then net metering is a **flow (monthly) subsidy**
--

- Solar households pay far less, even when depending on grid electricity.
  - Fixed costs are often included in per-kWh retail prices, thus there could be a cost-shift to non-solar households.
 

---
class: MSU
exclude: true
# Context

### Net metering has been controversial

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="Images/Screenshot1.png" alt="Source: Foley and Lardner, LLP" width="80%" /&gt;
&lt;p class="caption"&gt;Source: Foley and Lardner, LLP&lt;/p&gt;
&lt;/div&gt;



---
class: MSU
count: true
# Context

### Solar Net Metering provides a flow benefit to solar adopters
- May be rationalized by reduction in externalities
  - Probably not: Sexton et al. (2021)
- Learn-by-doing: 
  - Only partly: Bollinger and Gillingham (2019)
- Long-run innovation incentives:
  - Some, but second-best approach Gerarden: (2017)
- Nevertheless, it continues

--

### NPV of flow payoff depends on household discount rate
&lt;!-- - Under high household discount rates and low government borrowing rates, a budget-neutral up-front subsidy policy may be more effective --&gt;

--

### Household **heterogeneity** in rate `\(\rightarrow\)` different NPV for adoption


---
class: MSU
# Context

### Discount rate may explain differences in solar adoption across wealth and income
- Bednar, Reames, and Keoleian (2017) show lower-wealth households tend to spend *more* on electricity per sq ft
  - Borenstein and Davis (2016) top quintile of income received 60% of all federal tax benefits
  - Sunter, Castellanos, and Kammen (2019)    
  - O'Shaughnessy et al (2020) on income inequity in solar adoption
  - O'Shaughnessy (2022) and Borenstein (2022) in *Nature Energy*




---
class: MSU
# Research Questions

### Q1: How do households discount future payoffs from solar?

This speaks to economic efficiency of any similar flow subsidy

--

### Q2: Do discount rates vary systematically over wealth?

This speaks to whether or not the choice to use a potentially inefficient flow incentive (like net metering) exacerbates distributional differences.

--

### Policy lever: put the subsidy up front 
- Increase efficiency with up-front subsidies
- If discount rates vary systematically `\(\rightarrow\)` less disparity in solar uptake.
- Many states working on new versions of net metering
- Any proposed reform requires understanding effect of flow vs. up-front subsidies by wealth or income


---
class: MSU
# Literature

### Discount rates in energy investments: Energy-Efficiency Gap
- Large literature finding implicit discount rates between 10% and 30+%
  - .font70[Hausman (1979); Busse, Knittel, and Zettelmeyer (2013); Bollinger (2015); see Train (1985) for early summary]

### Discount rates in solar panel adoption
- de Groote and Verboven (2019) find 15% implicit discount rates
  - Identified using dynamic model of installation shares in Belgium with time variation in per-kWh-produced subsidy, panel costs
  - Abstracts away from household variation in cost, potential generation.
  
### Discount rates over wealth
- Lawrance (1991) - 12-20% using PSID
- Houde and Myers (2021) find heterogeneity in valuation of flow energy costs relative to up-front costs
  - Uses zip-level aggregate purchases and wealth; county-year level variation in energy costs


---
class: MSU
# Overview

&lt;!-- ### This paper leverages variation across time and household in the "solar payoff" to estimate discount rates (Q1), allowing for heterogeneity by wealth (Q2). --&gt;


### This paper
- Household-level variation allows for credible estimates of heterogeneous discount rates


--

Estimating discount rates requires variation that changes expected discounted future utilities without affecting current period utility (Magnac and Thesmar (2002))

- Household variation in flow incentives (payoff) comes from:
  - Variation in electricity rates over *location*
  - Variation in electricity rates over *time*
  - Variation in consumption levels over *household*
  - **Variation in potential generation over household**
  
---
class: MSU
# Overview

### Empirical Setting
- California under NEM 1.0 (2014-2016)
  - Post-expiration of CSI subsidies

--

### Roadmap
1. Sources of identifying variation &amp; data
2. Model
  - Optimal sizing
  - Adoption
  - Quasi-unobserved heterogeneity in consumption
3. Estimation
4. Results



---
class: heading-slide
name: idvar

Sources of Identifying Variation

---
class: MSU
name: backData
# Identifying Variation


&lt;img src="Images/Climate_zones_CaEnergyComm.png" width="45%" style="display: block; margin: auto;" /&gt;

**Climate zones** allow different thresholds for block pricing steps.
&lt;!-- **Climate zones** allow different thresholds for block pricing steps. .font70[[Show boundaries](#Boundaries)] --&gt;
- Two identical households with identical consumption on each side will face different marginal prices, different average prices, different payoff from solar.
&lt;!-- - Rates (at each of 4 tiers) change over time. .font70[[Show rates](#RATES)] --&gt;
- Rates (at each of 4 tiers) change over time.


---
class: MSU
# Identifying Variation

Rate zone boundaries .font70[from Bollinger, Gillingham, Kirkpatrick, and Sexton (2017)]
&lt;img src="Images/bnames.png" width="65%" style="display: block; margin: auto;" /&gt;


---
class: MSU
# Identifying Variation

### Rates: California has 4 (later 3) tiers of pricing during study window.

&lt;img src="Images/Rates_over_time.png" width="80%" style="display: block; margin: auto;" /&gt;


---
class: MSU
# Identifying Variation

### Variation in cost per kWh of solar generation using Google Project Sunroof

&lt;img src="Images/JustinHouse.png" width="100%" style="display: block; margin: auto;" /&gt;

--
&lt;img src="Images/SorenHouse.png" width="100%" style="display: block; margin: auto;" /&gt;

---
class: MSU
name: backSize
# Identifying Variation

### Google Sunroof roof irradiance
- Marginal generation of each 250w panel (weakly decreasing-ish)
- Converting generation to marginal cost requires fixing discount rate
- Roof irradiance affects optimal size and flow payoff

&lt;!-- - Optimal size depends on this curve, household consumption `\(q^0\)`, and electricity price tier structure. .font70[[Optimal sizing model](#OptimalSize)] --&gt;


&lt;img src="Images/GS_example.png" width="75%" style="display: block; margin: auto;" /&gt;

---
class: heading-slide
count: false


Optimal Sizing Model

---
class: MSU
# Optimal sizing

### Optimal sizing
.more-left[
.center[![](./Images/Fig3_v5.png)]
]
  
  
.less-right[.font70[
1. Dark blue is a shady roof
2. Yellow-orange is a sunny roof with few high-irradiance segments
3. Purple is a sunny roof with moderate high-irradiance segments
4. Green is a sunny roof with many high-irradiance segments
5. Light blue is a sunny roof on a flat, south-oriented roof.

Example is two-tier pricing with step at `\(\tau\)`.

Increasing `\(q^0\)` slides steps to right.
]]
  


---
class: MSU
# Optimal sizing

### Optimal sizing
.more-left[
.center[![](./Images/Fig3_v5.png)]
]
  
  
.less-right[.font70[
Given consumption, rate structure, and Google Sunroof profile, find capacity `\(K^{*}\)` to install.
1. Calculate marginal cost per kwh of solar generation
  - Starts low
  - Increases based on roof
  - Reflects cost of panels
2. Calculate marginal cost per kWh from the grid
  - Based on annual consumption `\(q^0\)`
  - Decreases as solar generation increases
3. Optimal is when `\(MC_{grid}=MC_{solar}\)`
  - May be "lumpy" due to steps
  
`\(K^*\)` is optimal size; `\(q^*\)` is optimal generation; `\(q^*\bar{p}\)` is annual value of generation]]
  
---
class: MSU
# Optimal sizing


### Optimal sizing in data
.pull-left[
&lt;img src="Images/Optimal_sizing_plot5.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
- Location of steps from `\(q^0\)`
- Height of steps from `\(p_t\)`
- Width of steps from climate zone
]

---
class: heading-slide
count: false

Data &amp; Model Inputs

---
class: MSU
# Data

### Sample of households
- 279k+ owner-occupied households in California 2014-2016 (CoreLogic)
  - Square footage, stories, year built (CoreLogic)
  - Lat-lon (rooftop) from geocoding address
  - **Wealth** (from InfoUSA)
  - Income (from InfoUSA)
  - Lines of credit (from InfoUSA, not used)
  - Owner or Renter (from InfoUSA)
  - Age (from InfoUSA)
  - Race (from InfoUSA)
  - Presence of children (from InfoUSA)
  - Length of residence (from InfoUSA)
  - Voter registration (CA Sec. of State)
- In PGE territory zip codes where
  - All households are in one electricity rate
  - *Border* another zip code where all households are in a different rate


---
class: MSU
# Data

#### Electricity consumption (PGE)
- Household-level electricity annual consumption (kWh) &amp; rates 2014-2016 with zipcode (PGE)


#### Solar adopters (LBNL Tracking the Sun)
- 9k+ Solar Adopters
  - **Address**, cost, size, date
  - Lease or purchase
  - Match Interconnection ID to PGE
  
#### Google Project Sunroof
- Roof profiles
- Location (lat-lon) 
  
---
class: MSU
name: backConsBin
# Data

### PGE Consumption Data
For **Non-adopters**: we observe complete distribution of consumption at zip level
- Calculate quintiles of consumption in each zip `\(b \in \{1,2,3,4,5\}\)` (1=lowest)
  - After removing matched solar adopters
  - .font70[[See consumption bins](#ConsBin)]
  
For **Adopters**: we observe consumption, `\(q^0\)` exactly.
- We can match to consumption bin `\(b\)`.


---
class: MSU
exclude: true

# Data

### Consumption and solar installation data

.pull-left[Lawrence Berkeley Nat'l Laboratory
- Tracking the Sun Dataset: all solar adopters
  - Address (merge to CoreLogic)
  - Size of installation
  - Cost of installation
  - **Date of installation**
  - 3rd party lessee]

.pull-right[PG&amp;E
- Confidential consumption dataset
  - Annual billed consumption for each individual residential customer in the "boundary" zip codes
  - Rate data (from website) over time]

----

- Merge annual consumption to solar adopters exactly
- Distribution of consumption `\(q^0\)` to zip code (excluding adopters)
  - Quintiles of consumption by zip code, `\(b \in \{1,2,3,4,5\}\)` (1 = lowest)

---
class: MSU
# Model Inputs

### Unobserved Consumption (non-adopters)
For non-adopters, conditional on:
- `\(b_z\)` (consumption level for bin `\(b\)` in zip `\(z\)`)
- Roof profile
- Rates and climate zone

We can calculate:
- `\(K^{*}\)`
- `\(q^{*}\)`
- `\(TC(K^{*})\)` (inclusive of 30% FTC)
- `\(\bar{p}\)` (average value of offset electricity)
- `\(q^{*}\bar{p}\)` (flow benefits of adopting solar)

---
class: MSU
# Model Inputs

### Observed Consumption (adopters)
For adopters, we observe `\(q^{0}\)`
- Place in bin `\(b_z\)`
- Calculate same as non-adopters


---
class: MSU
# Model Inputs

Model-free evidence of response to flow payoff of optimal-sized installation ( `\(q^* \bar{p}\)` )

&lt;img src="Images/Ex7b_Prob_adopt_fixed_TC_50th.png" width="85%" style="display: block; margin: auto;" /&gt;


---
class: MSU
# Model Inputs

### Dynamics: Expectations about future

#### Panel generation declines by `\(\lambda =  .8\%\)` per year (LBNL)

#### Electricity rate increase over time estimated AR(1) w/PGE rate data
- Elec. rates increase `\(\zeta_{bz} \in [.026, .056]\)` per year
- `\(\zeta_{bz}\)` is estimated using average price (Ito 2014)
  - Average price is a function of consumption `\(b\)`, which varies by zipcode `\(z\)`
  - Future `\(q^{*}\bar{p}\)` is equal to `\(q^{*}\bar{p}(1+\zeta_{bz})\)`

#### Total panel cost declines over time estimated AR(1) w/ LBNL data
- Annual price decline factor: `\(\eta = .988\)`
- Fixed cost variation by zipcode `\(z\)` (but common `\(\eta\)`)


---
class: heading-slide
count: false

Model


---
class: MSU
# Model

### Overview
Modeling demand as consumers make dynamic decisions about whether to adopt. 

--

Consumers consider:
- Discounted flow of offset electricity
- Up-front cost


Dynamics 
- Value of waiting depends on state variables
- Differs by rooftop irradiance

Tradeoff between flow and up-front cost differs by:
- Lease vs. own
- Initial household consumption

--

Once we account for these, estimate discount rates as a function of household characteristics, primarily wealth.




---
class: MSU
# Model

Utility of adopting:

`$$\begin{eqnarray}
v_1 &amp;=&amp; \delta_1 + \sigma \epsilon_1 \nonumber \\
\delta_1 &amp;=&amp; \underbrace{\color{green}{\int_{q_0-q^*}^{q_0}\sum_{t=1}^{T}\frac{1}{(1+\delta)^{t-1}} p_t(x)dx}}  &amp;-&amp;  VC(K^*) - FC  +X \beta  \nonumber \\
\delta_1 &amp;=&amp; \overbrace{\color{green}{\theta q^*\bar{p}}}^{\text{Discounted value of offset electricity}} &amp;-&amp; VC(K^*) - FC + X\beta \nonumber \\
\text{where} \quad \theta &amp;=&amp; \sum_{t=1}^T ((1+\zeta)(1-\lambda)\rho)^{(t-1)} &amp;
\end{eqnarray}$$`

.pull-left[
- `\(p_t(x)\)` is price (step function)
- `\(T\)` is lifetime of panels (25yr)
- `\(VC(K^*)\)` is the variable cost of adopting
- `\(FC\)` is the fixed cost of adopting
- `\(\epsilon \sim \text{Type 1 Extreme Value}\)`]

.pull-right[
- `\(X\beta\)` includes
  - Age, race, children, voter reg
  - Square footage of home
  - Wealth bins: low/med/high
  - Quarter x Wealth x Lease FE
  - Boundary zone FE]
  
  
---
class: MSU
exclude: true

# Model

Consumers assume
- electricity prices evolve `\(p'(x) = (1+\zeta)p(x)\)`
- panel generation depreciates: `\(q' = (1-\lambda)q\)`

Then:
`$$\delta_1 = \theta q^*\bar{p} - VC(K^*) - FC + X\beta$$`
`\(q^*\bar{p}\)` is the value of electricity *displaced by* solar in first year, and `\(\theta\)` converts this to the present:

`$$\theta = \sum_{t=1}^T ((1+\zeta)(1-\lambda)\rho)^{(t-1)}$$`

Discount factor `\(\rho = \frac{1}{1+\delta}\)`


---
class: MSU
# Model

Normalize outside option:

`$$\delta_0 = 0 + \sigma \epsilon_0$$`
Using Hotz and Miller (1993) Conditional Choice Probability (CCP) leads to:


`$$\begin{eqnarray}
\delta_1-\delta_0 &amp;=&amp;  (1-\rho(1+\zeta) )   \theta q^* \bar{p}    - (1-\rho \eta) VC(K^*) - (1-\rho) FC +\\
&amp; &amp;(1-\rho)X \beta + \sigma \rho (\log(Pr'_1) - .5772)
\end{eqnarray}$$`

This produces the familiar logit form for the probability of adopting, and the likelihood function.

---
class: MSU
# Model

### Heterogeneity in discount rate by wealth

`$$\rho_i = \alpha_0 + \alpha_1 1(\text{wealth}_i = med) + \alpha_2 1(\text{wealth}_i = high)$$`

`\(\rho\)` is a function of observables (wealth) to allow for heterogeneity in discount rate by wealth.


---
class: MSU
# Model

### Three main issues
- `\(Pr'_1\)` is household-specific
  - Cannot subsume into intercept as different roof profiles will have different adoption probabilities
  
- A large number of adopters lease their systems

- `\(q^0\)` (initial consumption) is not observed for non-adopters
  - Do observe zipcode distribution (quintiles)


---
class: MSU
# Model

#### Flexible logit for `\(Pr'_1\)` (Arcidiacono and Miller, 2011)
- Estimate a logit with `\(X\)`'s, flexibly interacted, including a time trend and boundary zone FE
- Predict `\(Pr'_1\)` by advancing
  - Rate by `\(\zeta^{b}\)`
  - `\(VC\)` by `\(\eta\)`
  - Time +1



---
class: MSU
# Model

### Lease vs. Own
- We observe which installations are leased, but not the terms
- We assume leaser/purchaser is a permanent, unobserved state (type)
- Write model conditional on type
  - Owner: same as before
  - Leaser: incorporate payment to lessor
  - Computationally, easiest to write as a change in up-front cost, possible when `\(\rho_i\)` is known or estimated
  


---
class: MSU
# Model

### Lease model
- Lease price: `\(p^{ppa} = \frac{TC(K^*)(1+\kappa^{TC})}{\theta^{I}} \frac{1}{q^*}\)`
  - `\(\theta^I\)` is identical to `\(\theta\)`, but with installers discount rate `\(\sim 4\%\)`
  - `\(\kappa^{TC}\)` is markup on the cost of capital
- Leasing can then be written as a multiplicative factor on cost that varies with `\(\rho\)`:

--


`$$\begin{eqnarray}
\delta_1^l-\delta_0^l &amp;=&amp;  (1-\rho(1+\zeta) )   \theta q^* \bar{p}    - \\
&amp; &amp;\color{blue}{\frac{\theta^{ppa}}{\theta^I}(1+\kappa^{TC})}\left((1-\rho \eta) VC(K^*) + (1-\rho) FC \right) + \\
&amp; &amp;(1-\rho)X \beta + \sigma \rho (\log(Pr'_1) - .5772)
\end{eqnarray}$$`

Where: `\(\frac{\theta^{ppa}}{\theta^{I}} = \frac{\sum_{t=1}^T ((1+\zeta^{ppa})(1-\lambda)\rho)^{(t-1)}}{\sum_{t=1}^T ((1+\zeta^{ppa})(1-\lambda)\rho^I)^{(t-1)}}\)`

--

The term in blue is unity for purchasers, simplifying computation.

---
class: MSU
# Model

### Lease model continued
- A per-kWh markup `\(\kappa^{p}\)` can be accommodated:

`$$\begin{eqnarray}
\delta_1^l-\delta_0^l &amp;=&amp;  (1-\rho(1+\zeta) )  \left( \theta q^{*}\bar{p} \color{blue}{ -  \theta^{ppa} q^* \kappa^{p}} \right)   - \\
&amp; &amp;\color{blue}{\frac{\theta^{ppa}}{\theta^I}(1+\kappa^{TC})}\left((1-\rho \eta) VC(K^*) + (1-\rho) FC \right) + \\
&amp; &amp;(1-\rho)X \beta + \sigma \rho (\log(Pr'_1) - .5772)
\end{eqnarray}$$`

---
class: MSU
# Model             

### Unobserved states: consumption and lease/purchase type
- Conditional on consumption `\(b\)` and type `\(e\)` (and given parameter vector), we can calculate `\(Pr(adopt)\)` and the conditional likelihood `\(L_{ibe}\)`.
- Unobserved heterogeneity in `\(b\)` and `\(e\)`
  - Integrate likelihood over 10 unobserved states: 5 bins `\(b\)` and 2 types `\(e\)`
- **But** must constrain s.t. `\(w_{ibe}\)` sums over `\(b\)` within zip `\(z\)` to `\(\frac{N_{zip}}{5}\)`
  - .red[Enforcing the constraint makes] `\(w_{ibe}\)` .red[depend on] `\(w_{jbe}\)`
    - Rules out Arcidiacono and Miller (2011) method for unobserved consumption.


---
class: MSU
# Model
  
###Integrating `\(L\)` over b, e.
- Draw (once) `\(R = 1,000\)` random allocations of consumption `\(b\)`: `\(b^{(r)}\)`
- For each evaluation of the likelihood function:
  1. Evaluate at the parameters to get conditional likelihood `\(L_{ibe}\)`
  1. Calculate weights for type `\(e\)` conditional on `\(b\)`: `\(w_{ie|b}\)` = `\(\frac{L_{ieb}}{L_{ieb}+L_{ie'b}}\)` following Arcidiacono and Miller (2011).
  1. For each allocation, sum the `\(w_{ie|b}\)`-weighted `\(L_{ibe}\)` for `\(b = b^{(r)}\)` into `\(L_{ib^{(r)}}\)`
  1. Calculate probability of observing each allocation conditional on `\(L\)` as `\(w^{(r)}_z = \frac{\Pi_{i\in z} L_{ib^{(r)}}}{\sum_r \Pi_{i\in z} L_{ib^{(r)}}}\)`
  1. Calculate the log-likelihood `\(LL_i\)` by `\(LL_i = log\left(\sum_{(r)} w_z^{(r)} L_{ib^{(r)}}\right)\)`
  1. Sum `\(LL = \sum_i LL_i\)`
  



---
class: heading-slide
count: false


Results


---
class: MSU
name: backResults
# Results

### Main findings

#### **Q1**: To what degree do households discount the flow...?

&lt;img src="Images/rates_avg_v3.png" width="500px" style="display: block; margin: auto;" /&gt;

`\(\theta\)` converts `\(q^{*}\bar{p}\)`, the per-period flow payoff, into a present value.

`\(11.25\%\)` implies `\(\theta=49.87\)`, or 1.91x the NPV at a government discount rate of 4%.

--

&lt;img src="Images/values_avg_v3.png" width="800px" style="display: block; margin: auto;" /&gt;

The average present value of average flow `\(q^{*}\bar{p}\)` is $10,841. The same flow discounted at a government discount rate of 4% is $20,703.

---
class: MSU
name: Q2res
# Results

### Main findings

#### **Q2**: Do discount rates vary systematically...?

&lt;img src="Images/rates_wealth_v3.png" width="500px" style="display: block; margin: auto;" /&gt;



---
class: heading-slide
count: false


Counterfactuals


---
class: MSU
# Counterfactuals

### Reduce up-front costs by 1%

&lt;img src="Images/1pctUpFront_20221026_08_PredInstalls1.png" width="80%" style="display: block; margin: auto;" /&gt;

--

&lt;img src="Images/1pctUpFront_20221026_08_PredInstalls2.png" width="95%" style="display: block; margin: auto;" /&gt;

---
class: MSU
# Counterfactuals

### Proposed NEM Rate of $.0625/kWh
- From [CPUC-comissioned Avoided Cost Calculator](https://www.cpuc.ca.gov/-/media/cpuc-website/divisions/energy-division/documents/demand-side-management/acc-models-latest-version/2022-acc-documentation-v1a.pdf)
- $.0625/kWh is average avoided cost for normalized load shape of solar

&lt;img src="Images/0625NEM_20221026_08_PredInstalls1.png" width="80%" style="display: block; margin: auto;" /&gt;

--

&lt;img src="Images/0625NEM_20221026_08_PredInstalls2.png" width="95%" style="display: block; margin: auto;" /&gt;

---
class: MSU
# Counterfactuals

### Proposed NEM Rate, but equivalent up-front subsidy 
- Proposed NEM Rate of $.0625 reduces flow payoff
- Subsidize by up-front value of net change in flow
- Budget-neutral to gov't assuming 4% government discount rate

&lt;img src="Images/0625_UpFront_20221026_08_PredInstalls1.png" width="80%" style="display: block; margin: auto;" /&gt;

--

&lt;img src="Images/0625_UpFront_20221026_08_PredInstalls2.png" width="95%" style="display: block; margin: auto;" /&gt;

---
class: MSU
# Conclusion

### Household discount rates exceed government borrowing rate
- Efficiency gains from up-front payments
- Important for redesigning NEM
- Applies to many flow subsidies for up-front investments

### Heterogeneity across wealth in discount rates
- Explains disparity in adoption
- Suggests possible gains in distributional equity across wealth from upfront payments


---
class: heading-slide
count: false


.font60[Thanks]

.font50[bbolling@stern.nyu.edu]



---
class: MSU
name: ConsBin
count: false

# Data

### Zip-level annual consumption bins
&lt;img src="Images/Zip_level_consumption.png" width="50%" style="display: block; margin: auto;" /&gt;


.font70[[Back](#backConsBin)]


---
class: MSU
name: Boundaries
exclude: false
count: false


# Data

Rate zone boundaries .font70[from Bollinger, Gillingham, Kirkpatrick, and Sexton (2017)] [Back](#backData)
&lt;img src="Images/All_used_CA_zips_color_by_IOU_boundary_zone_outline_v2CROP.png" width="65%" style="display: block; margin: auto;" /&gt;


---
class: MSU
name: RATES
count: false
exclude: false

# Data

### Rates: PG&amp;E has 4 (later 3) tiers of pricing. [Back](#backData)

&lt;img src="Images/Rates_over_time.png" width="90%" style="display: block; margin: auto;" /&gt;


---
class: MSU
name: OptimalSize
count:false 
exclude: false

# Data

### Optimal sizing .font50[[Back](#backSize)]
.more-left[
.center[![](./Images/Fig3_v5.png)]
]
  
  
.less-right[.font70[
Given consumption, rate structure, and Google Sunroof profile, find optimal capacity to install.
1. Calculate marginal cost per kWh of solar generation
  - Starts low
  - Increases based on roof
  - Reflects cost of panels
2. Calculate marginal cost per kWh from the grid
  - Based on annual consumption
  - Decreases as solar generation increases
3. Optimal is when `\(MC_{grid}=MC_{solar}\)`
  - May be "lumpy" due to steps
  
`\(K^*\)` is optimal size; `\(q^*\)` is optimal generation; `\(q^*\bar{p}\)` is annual value of generation]] 
  

---
class: MSU
name: fullResults
count: false
exclude: false

# Results (old)

.font50[[Back](#backResults)]
&lt;img src="Images/restabsubs_presentation_v2.png" width="70%" style="display: block; margin: auto;" /&gt;



---
class: MSU
name: DDC
count: false
exclude: false

# Model

Following Hotz and Miller (1993) and treating solar adoption as an exit state: [Back](#backModel)

`$$\begin{eqnarray}
v_0 &amp;=&amp; \delta_0 + \sigma \epsilon_0 \nonumber \\
\delta_0 &amp;=&amp; \rho\left(.5772 + \int \delta'_1 - ln(Pr'_1)dF(TC'|TC)\right)
\end{eqnarray}$$`

Using estimated change in: `\(VC' = \eta VC\)`:

`$$\begin{eqnarray}
\delta_1-\delta_0 &amp;=&amp;  (1-\rho(1+\zeta) )   \theta q^* \bar{p}    - (1-\rho \eta) VC(K^*) - (1-\rho) FC + \\
&amp; &amp;(1-\rho)X \beta + \rho (\log(Pr'_1) - .5772)
\end{eqnarray}$$`

And

`$$Pr_1 = \Lambda\left(\frac{1}{\sigma}(\delta_1 - \delta_0)\right)$$`

---
class: MSU
count: false

# Model

### Household heterogeneity in `\(\rho\)`: .footnote[[Back](#backModel)]

`$$\rho_i = \rho + \alpha_{low} 1(\text{wealth}_i&lt;\tau^{wealth}_{33}) + \alpha_{med} 1(\tau^{wealth}_{33}&lt;\text{wealth}_i&lt;\tau^{wealth}_{67})$$`

- Cross-sectional variation in `\(q^{*}\bar{p}\)` allows identification of `\(\alpha_{low}\)`, `\(\alpha_{med}\)`, `\(\rho\)`.
- Both income and value dummies included in `\(X\)` as well.
  - Main effect = information/inattention







    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"self_contained": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
